{"version":3,"sources":["webpack:///webpack/bootstrap a417b8744f076d514209","webpack:///external \"mongoose\"","webpack:///./~/_babel-runtime@6.26.0@babel-runtime/regenerator/index.js","webpack:///./middleware/utilFun.js","webpack:///./utils/config.js","webpack:///./server/models/index.js","webpack:///./server/proxys/user.js","webpack:///./nuxt.config.js","webpack:///./server/routers/index.js","webpack:///external \"koa\"","webpack:///external \"koa-body\"","webpack:///external \"koa-proxies\"","webpack:///external \"nuxt\"","webpack:///./server/controllers/index.js","webpack:///./server/controllers/mock.js","webpack:///./server/controllers/user.js","webpack:///./server/models/group.js","webpack:///./server/models/mock.js","webpack:///./server/models/mock_count.js","webpack:///./server/models/project.js","webpack:///./server/models/project_group.js","webpack:///./server/models/user.js","webpack:///./server/models/user_group.js","webpack:///./server/models/user_project.js","webpack:///./server/proxys/index.js","webpack:///./server/proxys/project.js","webpack:///./utils/mix.js","webpack:///external \"bcryptjs\"","webpack:///external \"js-beautify/js/lib/beautify\"","webpack:///external \"koa-router\"","webpack:///external \"lodash\"","webpack:///external \"path-to-regexp\"","webpack:///external \"prettify-markdown\"","webpack:///external \"regenerator-runtime\"","webpack:///external \"restc\"","webpack:///./server/index.js"],"names":["codeMap","utilFn","resuccess","data","code","success","message","refail","UtilFunMiddleware","ctx","next","set","req","id","util","pathNode","pathToRegexp","exec","path","throw","projectId","mockURL","appName","appMiniName","whiteList","apiBaseURL","proxy","target","changeOrigin","rewrite","replace","logs","server","mongodb","jwt","expire","secret","mongoose","Promise","global","connect","config","poolSize","err","console","error","process","exit","gravatar","UserProxy","name","password","nickName","headImg","user","len","length","nick_name","_","now","head_img","random","save","User","update","_id","$set","userName","findOne","userId","findById","query","opt","find","module","exports","head","title","meta","charset","content","hid","link","rel","type","href","css","plugins","loading","color","router","middleware","build","extend","isClient","rules","push","enforce","test","loader","exclude","mockRouter","prefix","all","utilFun","mockFilter","restc","koa2","mock","getMockAPI","apiRouter","get","register","html","body","UserController","newAndSave","Schema","schema","Types","ObjectId","ref","String","unique","create_at","Date","default","index","model","project_group","request","base","group","method","url","description","parameters","key","value","must","isEdit","Boolean","isChecked","headers","kvData","rawType","rawData","rawDataMD","response","bodyMD","mockjs","count","Number","collection","swagger_url","members","project","is_workbench","ProjectProxy","docs","Project","insertMany","projects","doc","remove","MixUtil","str","trim","jsBeautify","js_beautify","indent_size","mdPrettify","msg","confirm","bcrypt","hashSync","hash","compareSync","decodeURIComponent","e","restURL","fullURL","params","paramNames","api","captures","match","slice","forEach","i","safeDecodeURIComponent","app","host","env","HOST","port","PORT","require","dev","nuxt","builder","use","koaBody","multipart","routes","allowedMethods","status","resolve","reject","res","on","render","promise","then","catch","listen","log","start"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a417b8744f076d514209","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_babel-runtime@6.26.0@babel-runtime/regenerator/index.js\n// module id = 1\n// module chunks = 0","import pathToRegexp from 'path-to-regexp'\n\nconst codeMap = {\n  '-1': 'fail',\n  '200': 'success',\n  '401': 'token expired',\n  '500': 'server error',\n  '10001': 'params error'\n}\n\nconst utilFn = {\n  resuccess(data) {\n    return {\n      code: 200,\n      success: true,\n      message: codeMap['200'],\n      data: data || null\n    }\n  },\n  refail(message, code, data) {\n    return {\n      code: code || -1,\n      success: false,\n      message: message || codeMap[code],\n      data: data || null\n    }\n  }\n}\n\nexport default class UtilFunMiddleware {\n  static util(ctx, next) {\n    ctx.set('X-Request-Id', ctx.req.id)\n    ctx.util = utilFn\n    return next()\n  }\n\n  // static ipFilter (ctx, next) {\n  //   if (ipFilter(ctx.ip, blackIPs, {strict: false})) {\n  //     ctx.body = utilFn.refail('请求频率太快，已被限制访问')\n  //     return\n  //   }\n  //   return next()\n  // }\n\n  static mockFilter(ctx, next) {\n    const pathNode = pathToRegexp('/mock/:projectId(.{24})/:mockURL*').exec(\n      ctx.path\n    )\n\n    if (!pathNode) ctx.throw(404)\n\n    ctx.pathNode = {\n      projectId: pathNode[1],\n      mockURL: '/' + (pathNode[2] || '')\n    }\n\n    return next()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./middleware/utilFun.js","export default {\n  appName: 'mockServer',\n  appMiniName: 'M',\n  whiteList: ['/login'],\n  apiBaseURL: '/api',\n  proxy: {\n    target: 'https://www.easy-mock.com/mock/5a7bac516347684a0857e274/mserver',\n    changeOrigin: true,\n    rewrite: path => path.replace('/api', ''),\n    logs: true\n  },\n  server: {\n    mongodb: 'mongodb://localhost/mock-server',\n    jwt: {\n      expire: '14 days',\n      secret: 'shared-secret'\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/config.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:19:57 \n * @Last Modified by: hans.taozhiwei\n * @Last Modified time: 2018-03-06 14:22:55\n */\n\nimport mongoose from 'mongoose'\nimport config from './../../utils/config'\n\nimport User from './user'\nimport Mock from './mock'\nimport Group from './group'\nimport Project from './project'\nimport ProjectGroup from './project_group'\nimport MockCount from './mock_count'\nimport UserGroup from './user_group'\nimport UserProject from './user_project'\n\nmongoose.Promise = global.Promise\nmongoose.connect(\n  config.server.mongodb,\n  {\n    // useMongoClient: true,\n    poolSize: 20\n  },\n  err => {\n    /* istanbul ignore if */\n    if (err) {\n      console.error('connect to %s error: ', config.server.mongodb, err.message)\n      process.exit(1)\n    }\n  }\n)\n\nexport {\n  User,\n  Mock,\n  Group,\n  Project,\n  ProjectGroup,\n  MockCount,\n  UserGroup,\n  UserProject\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/index.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:21:18 \n * @Last Modified by: hans.taozhiwei\n * @Last Modified time: 2018-03-06 14:29:58\n */\n\nimport _ from 'lodash'\nimport {User} from './../models'\n\nconst gravatar = [\n  '//img.souche.com/20161230/png/58f22ad636a0f33bad8762688f78d425.png',\n  '//img.souche.com/20161230/png/6cdcda90c2f86ba1f45393cf5b26e324.png',\n  '//img.souche.com/20161230/png/f9d10bb683d940dd14dc1b1344e89568.png',\n  '//img.souche.com/20161230/png/8bb4f0fd45ed6ae26533eadd85f0f7ea.png',\n  '//img.souche.com/20161230/png/0795744371fd5869af6cab796bdacb95.png',\n  '//img.souche.com/20161230/png/bc836261fbb654dda6b653e428014279.png',\n  '//img.souche.com/20161230/png/fd9f8aecab317e177655049a49b64d02.png'\n]\n\nexport default class UserProxy {\n  static newAndSave(name, password, nickName, headImg) {\n    const user = new User()\n    const len = gravatar.length\n\n    user.name = name\n    user.password = password\n    user.nick_name = nickName || _.now()\n    user.head_img = headImg || gravatar[_.random(0, len - 1)]\n\n    return user.save()\n  }\n\n  static update(user) {\n    return User.update(\n      {\n        _id: user.id\n      },\n      {\n        $set: {\n          nick_name: user.nick_name,\n          head_img: user.head_img,\n          password: user.password\n        }\n      }\n    )\n  }\n\n  static getByName(userName) {\n    return User.findOne({name: userName})\n  }\n\n  static getById(userId) {\n    return User.findById(userId)\n  }\n\n  static find(query, opt) {\n    return User.find(query, {}, opt)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/proxys/user.js","module.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'mock server',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: 'Nuxt.js project' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n    // script: [\n    //   { src: 'jquery/dist/jquery.min.js' }\n    // ]\n  },\n  /*\n  ** Global CSS\n  */\n  css: ['~assets/css/main.css'],\n  /*\n  ** plugins\n  */\n  plugins: ['~plugins/index'],\n  /*\n  ** Customize the progress-bar color\n  */\n  loading: { color: '#3B8070' },\n  /*\n  ** router middleware\n  */\n  router: {\n    middleware: 'currentRoute'\n  },\n  /*\n   ** Build configuration\n   */\n  build: {\n    /*\n     ** Run ESLINT on save\n     */\n    extend (config, ctx) {\n      if (ctx.isClient) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import Router from 'koa-router'\nimport restc from 'restc'\nimport {user, mock} from './../controllers'\nimport utilFun from './../../middleware/utilFun'\n\n// import mock from './../controllers/mock'\n\n// import c2k from 'koa2-connect'\n// import proxy from 'http-proxy-middleware'\n// import cfg from './../../utils/config'\n\nlet mockRouter = new Router({prefix: '/mock'})\n  .all('*', utilFun.mockFilter, restc.koa2(), mock.getMockAPI)\n\nlet apiRouter = new Router({prefix: '/api'})\n  .get('/u/register', user.register)\n\nexport {mockRouter, apiRouter}\n\n\n\n// WEBPACK FOOTER //\n// ./server/routers/index.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"koa-body\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-body\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"koa-proxies\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-proxies\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 11\n// module chunks = 0","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:19:27 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:19:27 \n */\n\nimport user from './user'\nimport mock from './mock'\n\nexport {user, mock}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/index.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:19:33 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:19:33 \n */\n\nconst mock = {\n  async getMockAPI(ctx, next) {\n    let html = `\n    <ul>\n      <li><a href=\"/page/helloworld\">/page/helloworld</a></li>\n      <li><a href=\"/page/404\">/page/404</a></li>\n    </ul>\n  `\n    ctx.body = html\n  }\n}\n\nexport default mock\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/mock.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 13:40:55 \n * @Last Modified by: hans.taozhiwei\n * @Last Modified time: 2018-03-06 14:25:45\n */\n\nimport {UserProxy} from './../proxys'\nimport MixUtil from './../../utils/mix'\n\n/**\n * 用户控制器\n *\n * @export\n * @class UserController\n */\nexport default class UserController {\n  static async register(ctx) {\n    let name = 'hans'\n    let password = '12312321321'\n\n    let user = await UserProxy.newAndSave(name, password)\n    ctx.body = ctx.util.resuccess()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/user.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:19:51 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:19:51 \n */\n\nimport mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\n\nconst schema = new Schema({\n  user: {\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  name: {\n    type: String,\n    unique: true\n  },\n  create_at: {\n    type: Date,\n    default: Date.now\n  }\n})\n\nschema.index({ user: 1, create_at: -1 })\nschema.index({ name: 1 }, { unique: true })\n\nexport default mongoose.model('Group', schema)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/group.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:20:06 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:20:06 \n */\n\nimport mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\n\nconst schema = new Schema({\n  project_group: {\n    type: Schema.Types.ObjectId,\n    ref: 'ProjectGroup'\n  },\n  request: {\n    base: {\n      group: String,\n      method: String,\n      url: String,\n      description: String\n    },\n    parameters: [\n      {\n        key: String,\n        value: String,\n        description: String,\n        type: {type: String, default: 'string'},\n        must: {type: String, default: 'yes'},\n        isEdit: {type: Boolean, default: true},\n        isChecked: {type: Boolean, default: false}\n      }\n    ],\n    headers: [\n      {\n        key: String,\n        value: String,\n        description: String,\n        type: {type: String, default: 'string'},\n        must: {type: String, default: 'yes'},\n        isEdit: {type: Boolean, default: true},\n        isChecked: {type: Boolean, default: false}\n      }\n    ],\n    body: {\n      type: String,\n      kvData: [\n        {\n          key: String,\n          value: String,\n          description: String,\n          type: {type: String, default: 'string'},\n          must: {type: String, default: 'yes'},\n          isEdit: {type: Boolean, default: true},\n          isChecked: {type: Boolean, default: false}\n        }\n      ],\n      rawType: String,\n      rawData: String,\n      rawDataMD: String\n    }\n  },\n  response: {\n    body: String,\n    bodyMD: String,\n    mockjs: String,\n    headers: [\n      {\n        key: String,\n        value: String,\n        description: String,\n        type: {type: String, default: 'string'},\n        must: {type: String, default: 'yes'},\n        isEdit: {type: Boolean, default: true},\n        isChecked: {type: Boolean, default: false}\n      }\n    ]\n  },\n  create_at: {\n    type: Date,\n    default: Date.now\n  }\n})\n\nschema.index({project_group: 1, create_at: -1})\n\nexport default mongoose.model('Mock', schema)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/mock.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:20:01 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:20:01 \n */\n\nimport mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\n\nconst schema = new Schema(\n  {\n    mock: {\n      type: Schema.Types.ObjectId,\n      ref: 'Mock'\n    },\n    count: Number,\n    create_at: {\n      type: Date,\n      default: Date.now\n    }\n  },\n  {\n    collection: 'mock_counts'\n  }\n)\n\nschema.index({mock: 1, create_at: -1})\n\nmodule.exports = mongoose.model('MockCount', schema)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/mock_count.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:20:15 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:20:15 \n */\n\nimport mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\nconst ObjectId = Schema.Types.ObjectId\n\nconst schema = new Schema({\n  user: {\n    type: ObjectId,\n    ref: 'User'\n  },\n  group: {\n    type: ObjectId,\n    ref: 'Group'\n  },\n  name: String,\n  url: String,\n  description: {\n    type: String,\n    default: ''\n  },\n  swagger_url: {\n    type: String,\n    default: ''\n  },\n  members: [\n    {\n      type: ObjectId,\n      ref: 'User',\n      default: []\n    }\n  ],\n  create_at: {\n    type: Date,\n    default: Date.now\n  }\n})\n\nschema.index({user: 1, members: 1, create_at: -1})\n\nexport default mongoose.model('Project', schema)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/project.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:20:10 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:20:10 \n */\n\nimport mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\n\nconst schema = new Schema({\n  project: {\n    type: Schema.Types.ObjectId,\n    ref: 'Project'\n  },\n  name: {\n    type: String,\n    unique: true\n  },\n  create_at: {\n    type: Date,\n    default: Date.now\n  }\n})\n\nschema.index({ project: 1, create_at: -1 })\n\nexport default mongoose.model('ProjectGroup', schema)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/project_group.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:20:33 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:20:33 \n */\n\nimport mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\nconst schema = new Schema({\n  nick_name: String,\n  head_img: String,\n  name: String,\n  password: String,\n  create_at: {\n    type: Date,\n    default: Date.now\n  }\n})\n\nschema.index({ name: 1 }, { unique: true })\n\nexport default mongoose.model('User', schema)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/user.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:20:22 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:20:22 \n */\n\nimport mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\n\nconst schema = new Schema({\n  user: {\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  group: {\n    type: Schema.Types.ObjectId,\n    ref: 'Group'\n  },\n  create_at: {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  collection: 'user_group'\n})\n\nschema.index({ group: 1, user: 1 }, { unique: true })\n\nexport default mongoose.model('UserGroup', schema)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/user_group.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:20:27 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:20:27 \n */\n\nimport mongoose from 'mongoose'\n\nconst Schema = mongoose.Schema\n\nconst schema = new Schema({\n  user: {\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  project: {\n    type: Schema.Types.ObjectId,\n    ref: 'Project'\n  },\n  is_workbench: { // 工作台\n    type: Boolean,\n    default: false\n  },\n  create_at: {\n    type: Date,\n    default: Date.now\n  }\n}, {\n  collection: 'user_project'\n})\n\nschema.index({ project: 1, user: 1 }, { unique: true })\n\nexport default mongoose.model('UserProject', schema)\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/user_project.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:19:16 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:19:16 \n */\n\nimport UserProxy from './user'\nimport ProjectProxy from './project'\n\nexport {UserProxy, ProjectProxy}\n\n\n\n// WEBPACK FOOTER //\n// ./server/proxys/index.js","/*\n * @Author: hans.taozhiwei \n * @Date: 2018-03-06 14:21:08 \n * @Last Modified by:   hans.taozhiwei \n * @Last Modified time: 2018-03-06 14:21:08 \n */\n\nimport {Project} from './../models'\nimport UserProxy from './user'\n\nexport default class ProjectProxy {\n  static async newAndSave(docs) {\n    const projects = await Project.insertMany(docs)\n    return projects\n  }\n\n  static findByName(name) {\n    return Project.findOne({name})\n  }\n\n  static findOne(query) {\n    return Project.findOne(query)\n  }\n\n  static find(query) {\n    return Project.find(query, {})\n  }\n\n  static updateById(id, doc) {\n    return Project.update({_id: id}, {$set: doc})\n  }\n\n  static del(query) {\n    return Project.remove(query)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/proxys/project.js","import jsBeautify from 'js-beautify/js/lib/beautify'\nimport mdPrettify from 'prettify-markdown'\nimport bcrypt from 'bcryptjs'\n\n/**\n * 工具函数\n * \n * @export\n * @class MixUtil\n */\nexport default class MixUtil {\n  /**\n   * 格式化json\n   *\n   * @static\n   * @param {any} str\n   * @returns\n   * @memberof MixUtil\n   */\n  static formatJson(str) {\n    str = str.trim()\n    if (str === '') {\n      return str\n    }\n    try {\n      return jsBeautify.js_beautify(str, {indent_size: 2})\n      // let obj = JSON.parse(str)\n      // return JSON.stringify(obj, null, 4)\n    } catch (err) {\n      return str\n    }\n  }\n\n  /**\n   * 格式化 markdown\n   *\n   * @static\n   * @param {any} str\n   * @returns\n   * @memberof MixUtil\n   */\n  static formatMarkdown(str) {\n    str = str.trim()\n    if (str === '') {\n      return str\n    }\n    return mdPrettify(str)\n  }\n\n  /**\n   * 删除确认\n   *\n   * @static\n   * @returns\n   * @memberof MixUtil\n   */\n  static delConfirm() {\n    const msg = '您真的确定要删除吗？\\n\\n请确认！'\n    return confirm(msg)\n  }\n\n  /**\n   * 加密字符串\n   * \n   * @static\n   * @param {any} str \n   * @returns \n   * @memberof MixUtil\n   */\n  static bhash(str) {\n    return bcrypt.hashSync(str, 8)\n  }\n\n  /**\n   * 对比原字符串与经过加密的字符串是否相同\n   * \n   * @static\n   * @param {any} str \n   * @param {any} hash \n   * @returns \n   * @memberof MixUtil\n   */\n  static bcompare(str, hash) {\n    return bcrypt.compareSync(str, hash)\n  }\n\n  /**\n   * 安全的 decodeURIComponent\n   * \n   * @static\n   * @param {any} str \n   * @returns \n   * @memberof MixUtil\n   */\n  static safeDecodeURIComponent(str) {\n    try {\n      return decodeURIComponent(str)\n    } catch (e) {\n      return str\n    }\n  }\n\n  /**\n   * 解析出 params 对象\n   *\n   * /user/nick (/user/:name) => { name: 'nick' }\n   *\n   * @param String restURL /user/:name\n   * @param String fullURL /user/nick\n   */\n  static params(restURL, fullURL) {\n    const params = {}\n    const paramNames = []\n    const api = pathToRegexp(restURL, paramNames)\n    const captures = fullURL.match(api)\n\n    if (!captures) return {}\n\n    captures.slice(1).forEach((value, i) => {\n      /* istanbul ignore else */\n      if (paramNames[i]) {\n        params[paramNames[i].name] = this.safeDecodeURIComponent(value)\n      }\n    })\n\n    return params\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/mix.js","module.exports = require(\"bcryptjs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcryptjs\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"js-beautify/js/lib/beautify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"js-beautify/js/lib/beautify\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"path-to-regexp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path-to-regexp\"\n// module id = 30\n// module chunks = 0","module.exports = require(\"prettify-markdown\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prettify-markdown\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"restc\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"restc\"\n// module id = 33\n// module chunks = 0","import Koa from 'koa'\nimport {Nuxt, Builder} from 'nuxt'\nimport proxy from 'koa-proxies'\nimport koaBody from 'koa-body'\n\nimport {mockRouter, apiRouter} from './routers'\nimport cfg from './../utils/config'\nimport UtilFunMiddleware from './../middleware/utilFun'\n\nasync function start() {\n  const app = new Koa()\n  const host = process.env.HOST || '127.0.0.1'\n  const port = process.env.PORT || 3000\n\n  // Import and Set Nuxt.js options\n  let config = require('../nuxt.config.js')\n  config.dev = !(app.env === 'production')\n\n  // Instantiate nuxt.js\n  const nuxt = new Nuxt(config)\n\n  // Build in development\n  if (config.dev) {\n    const builder = new Builder(nuxt)\n    await builder.build()\n  }\n\n  // 中间件\n  app\n    .use(UtilFunMiddleware.util)\n    .use(koaBody({ multipart: true }))\n    .use(mockRouter.routes())\n    .use(mockRouter.allowedMethods())\n    .use(apiRouter.routes())\n    .use(apiRouter.allowedMethods())\n\n  // http status 404 改 200\n  app.use(async (ctx, next) => {\n    await next()\n    ctx.status = 200 // koa defaults to 404 when it sees that status is unset\n    return new Promise((resolve, reject) => {\n      ctx.res.on('close', resolve)\n      ctx.res.on('finish', resolve)\n      nuxt.render(ctx.req, ctx.res, promise => {\n        // nuxt.render passes a rejected promise into callback on error.\n        promise.then(resolve).catch(reject)\n      })\n    })\n  })\n\n  // 代理\n  // app.use(proxy(/^\\/api\\//, cfg.proxy))\n\n  app.listen(port, host)\n  console.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n}\n\nstart()\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}